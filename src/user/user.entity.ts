import {
  Entity,                // Ğ”ĞµĞºĞ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”, Ñ‰Ğ¾ ĞºĞ»Ğ°Ñ Ñ” ÑÑƒÑ‚Ğ½Ñ–ÑÑ‚Ñ Ğ±Ğ°Ğ·Ğ¸ Ğ´Ğ°Ğ½Ğ¸Ñ…
  PrimaryGeneratedColumn, // ĞĞ³Ğ¾Ğ»Ğ¾ÑˆÑƒÑ”Ğ¼Ğ¾ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ·Ğ³ĞµĞ½ĞµÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ¿ĞµÑ€Ğ²Ğ¸Ğ½Ğ½Ğ¸Ğ¹ ĞºĞ»ÑÑ‡
  Column,                // Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ·Ğ²Ğ¸Ñ‡Ğ°Ğ¹Ğ½Ğ¸Ñ… ĞºĞ¾Ğ»Ğ¾Ğ½Ğ¾Ğº Ñƒ Ğ‘Ğ”
  CreateDateColumn,      // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ÑÑ” Ğ´Ğ°Ñ‚Ñƒ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ
  UpdateDateColumn,      // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ¾Ğ½Ğ¾Ğ²Ğ»ÑÑ” Ğ´Ğ°Ñ‚Ñƒ Ğ¿Ñ€Ğ¸ ĞºĞ¾Ğ¶Ğ½Ñ–Ğ¹ Ğ·Ğ¼Ñ–Ğ½Ñ– Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ
  OneToMany,             // Ğ’Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ” Ğ·Ğ²â€™ÑĞ·Ğ¾Ğº "ĞĞ´Ğ¸Ğ½ Ğ´Ğ¾ Ğ±Ğ°Ğ³Ğ°Ñ‚ÑŒĞ¾Ñ…" (User â†’ Orders)
  OneToOne,              // Ğ’Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ” Ğ·Ğ²â€™ÑĞ·Ğ¾Ğº "ĞĞ´Ğ¸Ğ½ Ğ´Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾" (User â†’ Cart)
  JoinColumn,            // Ğ’ĞºĞ°Ğ·ÑƒÑ”, Ñ‰Ğ¾ Ñ†ĞµĞ¹ ĞºĞ»Ğ°Ñ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ·Ğ¾Ğ²Ğ½Ñ–ÑˆĞ½Ñ–Ğ¹ ĞºĞ»ÑÑ‡
} from 'typeorm';        // Ğ†Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ÑƒÑ”Ğ¼Ğ¾ Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ñ– Ğ´ĞµĞºĞ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¸ Ğ· TypeORM

// Ğ†Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ÑƒÑ”Ğ¼Ğ¾ Ñ–Ğ½ÑˆÑ– ÑÑƒÑ‚Ğ½Ğ¾ÑÑ‚Ñ–, ÑĞºÑ– Ğ±ÑƒĞ´ÑƒÑ‚ÑŒ Ğ¿Ğ¾Ğ²'ÑĞ·Ğ°Ğ½Ñ– Ğ· User
import { Cart } from '../cart/cart.entity';
import { Order } from '../orders/orders.entity';

// ĞŸĞ¾Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”Ğ¼Ğ¾ Ñ†ĞµĞ¹ ĞºĞ»Ğ°Ñ ÑĞº ÑÑƒÑ‚Ğ½Ñ–ÑÑ‚ÑŒ Ğ±Ğ°Ğ·Ğ¸ Ğ´Ğ°Ğ½Ğ¸Ñ…
@Entity()
export class User {

  // ğŸ”¹ ĞŸĞµÑ€Ğ²Ğ¸Ğ½Ğ½Ğ¸Ğ¹ ĞºĞ»ÑÑ‡ (id), ÑĞºĞ¸Ğ¹ Ğ±ÑƒĞ´Ğµ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ·Ğ³ĞµĞ½ĞµÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ»Ñ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°
  @PrimaryGeneratedColumn()
  id: number;

  // ğŸ”¹ ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° "name" - ÑƒĞ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ğµ Ñ‚Ğ° Ğ¾Ğ±Ğ¾Ğ²â€™ÑĞ·ĞºĞ¾Ğ²Ğµ Ğ¿Ğ¾Ğ»Ğµ (Ğ½Ğµ Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ NULL)
  @Column({ unique: true, nullable: false })
  name: string;

  // ğŸ”¹ ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° "email" - Ñ‚Ğ°ĞºĞ¾Ğ¶ ÑƒĞ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ğµ Ñ‚Ğ° Ğ¾Ğ±Ğ¾Ğ²â€™ÑĞ·ĞºĞ¾Ğ²Ğµ Ğ¿Ğ¾Ğ»Ğµ
  @Column({ unique: true, nullable: false })
  email: string;

  //  ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° "password" - Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ¿Ñ€Ğ¸ find(), Ğ±Ğ¾ select: false
  //    Ğ¦Ğµ Ğ·Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ğ¾ Ğ· Ğ¼Ñ–Ñ€ĞºÑƒĞ²Ğ°Ğ½ÑŒ Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸, Ñ‰Ğ¾Ğ± Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ Ğ½Ğµ Ğ²Ğ¸Ğ´Ğ°Ğ²Ğ°Ğ²ÑÑ Ñƒ Ğ·Ğ²Ğ¸Ñ‡Ğ°Ğ¹Ğ½Ğ¸Ñ… Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ñ….
  @Column({ select: false, nullable: false })
  password: string;

  //  ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° "role" - Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”, Ñ‡Ğ¸ Ñ†Ğµ Ğ·Ğ²Ğ¸Ñ‡Ğ°Ğ¹Ğ½Ğ¸Ğ¹ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ Ñ‡Ğ¸ Ğ°Ğ´Ğ¼Ñ–Ğ½Ñ–ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€
  //    Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ enum (Ğ¿ĞµÑ€ĞµĞ»Ñ–Ñ‡ÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ‚Ğ¸Ğ¿), Ğ´Ğµ Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ñ– Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ 'user' Ğ°Ğ±Ğ¾ 'admin'.
  //    Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼: 'user'.
  @Column({ type: 'enum', enum: ['user', 'admin'], default: 'user' })
  role: 'user' | 'admin';

  //  ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° "createdAt" - Ğ´Ğ°Ñ‚Ğ° ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ
  //    Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ÑÑ”Ñ‚ÑŒÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ÑˆĞ¾Ğ¼Ñƒ Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ–.
  @CreateDateColumn()
  createdAt: Date;

  //  ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° "updatedAt" - Ğ´Ğ°Ñ‚Ğ° Ğ¾ÑÑ‚Ğ°Ğ½Ğ½ÑŒĞ¾Ğ³Ğ¾ Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ
  //    Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ¾Ğ½Ğ¾Ğ²Ğ»ÑÑ”Ñ‚ÑŒÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ¿Ñ€Ğ¸ Ğ·Ğ¼Ñ–Ğ½Ñ– Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»Ñ Ñƒ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°.
  @UpdateDateColumn()
  updatedAt: Date;

  //  Ğ—Ğ²â€™ÑĞ·Ğ¾Ğº "ĞĞ´Ğ¸Ğ½ Ğ´Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾" Ğ¼Ñ–Ğ¶ User Ñ‚Ğ° Cart
  //    Ğ¦Ğµ Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”, Ñ‰Ğ¾ Ñƒ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ° Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ Ğ»Ğ¸ÑˆĞµ Ğ¾Ğ´Ğ¸Ğ½ ĞºĞ¾ÑˆĞ¸Ğº (Cart).
  //    { cascade: true } Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ ÑÑ‚Ğ²Ğ¾Ñ€ÑĞ²Ğ°Ñ‚Ğ¸ ĞºĞ¾ÑˆĞ¸Ğº Ñ€Ğ°Ğ·Ğ¾Ğ¼ Ñ–Ğ· ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ĞµĞ¼.
  //    { onDelete: 'CASCADE' } Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑ‚Ğ¸ ĞºĞ¾ÑˆĞ¸Ğº, ÑĞºÑ‰Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑ”Ñ‚ÑŒÑÑ.
  @OneToOne(() => Cart, cart => cart.user, { cascade: true })
  @JoinColumn() // ğŸ”¹ Ğ’ĞºĞ°Ğ·ÑƒÑ”, Ñ‰Ğ¾ User Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ·Ğ¾Ğ²Ğ½Ñ–ÑˆĞ½Ñ–Ğ¹ ĞºĞ»ÑÑ‡ (cardId) Ñƒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ– user
  cart: Cart;

  // ğŸ”¹ Ğ—Ğ²â€™ÑĞ·Ğ¾Ğº "ĞĞ´Ğ¸Ğ½ Ğ´Ğ¾ Ğ±Ğ°Ğ³Ğ°Ñ‚ÑŒĞ¾Ñ…" Ğ¼Ñ–Ğ¶ User Ñ‚Ğ° Order
  //    Ğ¦Ğµ Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”, Ñ‰Ğ¾ **Ğ¾Ğ´Ğ¸Ğ½ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ Ğ¼Ğ¾Ğ¶Ğµ Ğ¼Ğ°Ñ‚Ğ¸ Ğ±Ğ°Ğ³Ğ°Ñ‚Ğ¾ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½ÑŒ (Order)**.
  //    { cascade: true } - Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ ÑÑ‚Ğ²Ğ¾Ñ€ÑĞ²Ğ°Ñ‚Ğ¸/Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑ‚Ğ¸ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ñ€Ğ°Ğ·Ğ¾Ğ¼ Ñ–Ğ· ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ĞµĞ¼.
  @OneToMany(() => Order, order => order.user, { cascade: true })
  orders: Order[];
}